# 短视频分析推荐系统

## API 接口文档

## 1. 接口设计说明

### 1.1 接口规范

- 

> 接口风格：RESTful

- 
- 

> 数据格式：JSON

- 
- 

> 请求协议：HTTP

- 
- 

> 字符编码：UTF-8

- 

### 1.2 基础路径

http://localhost:8080/api

### 1.3 通用返回格式

{

"code": 200,

"msg": "success",

"data": {}

}

| **字段** | **说明**                       |
|:---------|:-------------------------------|
| code     | 状态码（200 成功，其他为失败） |
| msg      | 提示信息                       |
| data     | 返回数据                       |

## 2. 用户模块 API

### 2.1 用户注册

**接口地址**

POST /user/register

**请求参数**

{

"username": "testuser",

"password": "123456"

}

**返回示例**

{

"code": 200,

"msg": "注册成功"

}

### 2.2 用户登录

**接口地址**

POST /user/login

**请求参数**

{

"username": "testuser",

"password": "123456"

}

**返回示例**

{

"code": 200,

"msg": "登录成功",

"data": {

"userId": 1,

"token": "xxxxxx"

}

}

## 3. 短视频模块 API

### 3.1 上传短视频

**接口地址**

POST /video/upload

**请求参数（表单）**

| **参数名** | **类型** | **说明** |
|:-----------|:---------|:---------|
| file       | File     | 视频文件 |
| title      | String   | 视频标题 |

**返回示例**

{

"code": 200,

"msg": "上传成功，待审核"

}

### 3.2 获取视频列表

**接口地址**

GET /video/list

**请求参数**

| **参数名** | **说明** |
|:-----------|:---------|
| page       | 当前页   |
| size       | 每页数量 |

**返回示例**

{

"code": 200,

"data": \[

{

"videoId": 1,

"title": "示例视频",

"playCount": 120

}

\]

}

### 3.3 播放视频（记录播放行为）

**接口地址**

POST /video/play

**请求参数**

{

"videoId": 1

}

## 4. 用户行为模块 API

### 4.1 点赞视频

**接口地址**

POST /behavior/like

**请求参数**

{

"videoId": 1

}

### 4.2 评论视频

**接口地址**

POST /behavior/comment

**请求参数**

{

"videoId": 1,

"content": "很好看"

}

### 4.3 转发视频

**接口地址**

POST /behavior/share

**请求参数**

{

"videoId": 1

}

## 5. 推荐与排行榜 API

### 5.1 获取热门短视频

**接口地址**

GET /recommend/hot

**返回示例**

{

"code": 200,

"data": \[

{

"videoId": 2,

"title": "热门视频",

"likeCount": 300

}

\]

}

### 5.2 获取个性化推荐视频

**接口地址**

GET /recommend/personal

**请求参数**

| **参数名** | **说明** |
|:-----------|:---------|
| userId     | 用户ID   |

## 6. 管理员模块 API

### 6.1 管理员登录

**接口地址**

POST /admin/login

### 6.2 冻结/解封用户

**接口地址**

POST /admin/user/status

**请求参数**

{

"userId": 1,

"status": 0

}

> status：0 冻结，1 正常

### 6.3 审核短视频

**接口地址**

POST /admin/video/audit

**请求参数**

{

"videoId": 1,

"status": 1

}

> status：1 通过，0 拒绝

### 6.4 设置热门视频

**接口地址**

POST /admin/video/hot

### 6.5 删除视频

**接口地址**

DELETE /admin/video/delete/{videoId}

## 7. 数据分析模块 API

### 7.1 获取视频行为统计数据

**接口地址**

GET /analysis/video

**返回示例**

{

"code": 200,

"data": {

"playCount": 1000,

"likeCount": 500,

"commentCount": 200

}

}
